'''
    This code was AUTOGENERATED using the codama library.
    Please DO NOT EDIT THIS FILE, instead use visitors
    to add features, then rerun codama to update it.
    @see https://github.com/codama-idl/codama
'''

import borsh_construct as borsh
import typing
from construct import Container
from dataclasses import dataclass
from . import price

class DatedPriceJSON(typing.TypedDict):
    price: price.PriceJSON
    lastUpdatedSlot: int
    unixTimestamp: int
    genericData: list[int]

@dataclass
class DatedPrice:
    layout: typing.ClassVar = borsh.CStruct(
        "price" /price.Price.layout,
        "lastUpdatedSlot" /borsh.U64,
        "unixTimestamp" /borsh.U64,
        "genericData" /borsh.U8[24],
        )
    #fields
    price: price.Price
    lastUpdatedSlot: int
    unixTimestamp: int
    genericData: list[int]
    
    @classmethod
    def from_decoded(cls, obj: Container) -> "DatedPrice":
        return cls(
        price=price.Price.from_decoded(obj["price"]),
        lastUpdatedSlot=obj["lastUpdatedSlot"],
        unixTimestamp=obj["unixTimestamp"],
        genericData=obj["genericData"],
        )

    def to_encodable(self) -> dict[str, typing.Any]:
        return {
                "price": self.price.to_encodable(),
                "lastUpdatedSlot": self.lastUpdatedSlot,
                "unixTimestamp": self.unixTimestamp,
                "genericData": self.genericData,
                }

    def to_json(self) -> DatedPriceJSON:
        return {
                "price": self.price.to_json(),
                "lastUpdatedSlot": self.lastUpdatedSlot,
                "unixTimestamp": self.unixTimestamp,
                "genericData": self.genericData,
                }

    @classmethod
    def from_json(cls, obj: DatedPriceJSON) -> "DatedPrice":
        return cls(
                price=price.Price.from_json(obj["price"]),
                lastUpdatedSlot=obj["lastUpdatedSlot"],
                unixTimestamp=obj["unixTimestamp"],
                genericData=obj["genericData"],
        )






